<!DOCTYPE html>
<html lang="">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
</head>

<body>
   <header></header>

    <main>

<!--       Section til overskift + info-->
        <section class="container" data-container></section>
        <template data-template>
            <article class="introListview">
             <h2 data-title></h2>
             <p data-text></p>
             </article>
         </template>

<!--         Section til billede af bliv frivillig-->
         <section class="container1" data-container1></section>
        <template data-template1>
            <article class="voluntaryListview">
                <h2 data-title1></h2>
                <img class="image" src="" alt="">
            </article>
        </template>

<!--       Section til  billede af faciliteter-->
        <section class="container2" data-container2></section>
        <template data-template2>
            <article class="faciliteterListview">
                <h2 data-title2></h2>
                <img class="image2" src="" alt="">
            </article>
        </template>

<!--        section til billede af book lokale-->
        <section class="container3" data-container3></section>
        <template data-template3>
            <article class="bookListview">
                <h2 data-title3></h2>
                <p data-text3></p>
            </article>
        </template>

    <!--        section til billede af skab events-->
        <section class="container4" data-container4></section>
        <template data-template4>
            <article class="skabListview">
                <h2 data-title4></h2>
                <p data-text4></p>
            </article>
        </template>

    </main>

</body>
<script>
    document.addEventListener("DOMContentLoaded", getJSON);

    let intro;
    let introTemplate = document.querySelector("[data-template]");
    let introContainer = document.querySelector("[data-container]");

    let voluntary;
    let voluntaryTemplate = document.querySelector("[data-template1]");
    let voluntaryContainer = document.querySelector("[data-container1]");

    let faciliteter;
    let faciliteterTemplate = document.querySelector("[data-template2]");
    let faciliteterContainer = document.querySelector("[data-container2]");

    //------------------------------------------------
    async function getJSON(){
        let jsonData = await fetch("http://emmaviola.dk/kea/07-cms/huset/wordpress/wp-json/wp/v2/huset_tilbyder?slug=text_tilbyder");
        intro = await jsonData.json();
        visIntro();
        console.log(intro);

        let jsonData1 = await fetch("http://emmaviola.dk/kea/07-cms/huset/wordpress/wp-json/wp/v2/huset_tilbyder?slug=tilbyder-bliv-frivillig");
        voluntary = await jsonData1.json();
        visVoluntary();
        console.log(voluntary);

        let jsonData2 = await fetch("http://emmaviola.dk/kea/07-cms/huset/wordpress/wp-json/wp/v2/huset_tilbyder?slug=tilbyder_faciliteter");
        faciliteter = await jsonData2.json();
        visFaciliteter;
        console.log(faciliteter);
    }

    //------------------------------------------------
    function visIntro(){
        console.log(intro);
        intro.forEach(intro =>{
            let klon = introTemplate.cloneNode(true).content;
            klon.querySelector("[data-title]").textContent = intro.title.rendered;
            klon.querySelector("[data-text]").innerHTML = intro.content.rendered;
            introContainer.appendChild(klon);
        })
    }

    function visVoluntary(){
        console.log(voluntary);
        voluntary.forEach(voluntary=>{
        let klon = voluntaryTemplate.cloneNode(true).content;
        klon.querySelector("[data-title1]").textContent = voluntary.title.rendered;
        klon.querySelector(".image").src = voluntary.acf.image;
        voluntaryContainer.appendChild(klon);
            })
    }

    function visFaciliteter(){
        console.log(faciliteter);
        faciliteter.forEach(faciliteter=>{
            let klon = faciliteterTemplate.cloneNode(true).content;
            klon.querySelector("[data-title2]").textContent = faciliteter.title.rendered;
            klon.querySelector(".image2").src = faciliteter.acf.image;
            faciliteterContainer.appendChild(klon);
        })
    }
</script>
</html>

